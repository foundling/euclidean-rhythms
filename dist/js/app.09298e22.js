(function(t){function e(e){for(var s,r,o=e[0],c=e[1],u=e[2],p=0,d=[];p<o.length;p++)r=o[p],a[r]&&d.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},a={app:0},i=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"2f4d":function(t,e,n){"use strict";var s=n("a4d9"),a=n.n(s);a.a},4345:function(t,e,n){"use strict";var s=n("acc9"),a=n.n(s);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"euclidian-rhythms"},[n("Logo"),n("Transport",{attrs:{tempo:t.tempo},on:{"transport-stopped":t.resetActiveSteps,"transport-tempo-updated":t.updateTempo}}),n("SequencerControls",{attrs:{"active-channel":t.activeChannel}},[n("StepCount",{attrs:{"step-count":t.currentTrack.sequence.n},on:{"step-count-updated":t.updateStepCount}}),n("PulseMode",{attrs:{"pulse-mode":"pulseMode","pulse-modes":t.pulseModes},on:{"pulse-mode-updated":t.updatePulseMode}}),n("Rotation",{attrs:{"steps-rotated":t.currentTrack.sequence.offset,"rotation-magnitude":t.currentTrack.sequence.offsetMagnitude},on:{"rotation-updated":t.updateTrackRotation}}),n("Direction",{attrs:{direction:t.currentTrack.sequence.direction},on:{"direction-updated":t.updateTrackDirection}})],1),n("Sequencer",{attrs:{tracks:t.tracks,"pulse-mode":t.pulseMode,"active-channel":t.activeChannel,"steps-in-edit-mode":t.stepsInEditMode},on:{"sequencer-step-edit-index-update":t.updateStepEditIndexes,"pulse-count-updated":t.updatePulseCount}}),n("TrackSelector",t._l(t.tracks,function(e,s){return n("TrackButton",{attrs:{active:t.activeChannel===s,muted:e.sequence.muted,"track-index":s},on:{"track-unmuted":function(t){e.sequence.muted=!1},"track-muted":function(t){e.sequence.muted=!0},"track-active-channel-updated":function(e){t.activeChannel=s}}},[n("span",[t._v(t._s(s+1))])])}),1),n("SourceEditor",{attrs:{enabled:t.sourceEditorEnabled,source:t.activeStepData},on:{"source-editor-note-assign":t.updateNote,"source-editor-envelope-change":t.updateEnvelope}}),t._v("\n\n  "+t._s(t.activeStepData)+"\n\n")],1)},i=[],r=n("768b"),o=(n("6762"),n("2fdb"),n("ac6a"),n("456d"),n("d225")),c=n("308d"),u=n("6bb5"),l=n("4e2b"),p=n("f28b"),d=n("75fc");n("c5f6"),n("ee1d");function f(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.length)throw TypeError("range requires at least one arg");if(e.some(function(t){return Number.isNaN(Number(t))}))throw TypeError("range requires numeric arguments");var s,a;return e.length<=1?(s=0,a=e[0]):(e.length,s=e[0],a=e[1]),Object(d["a"])(Array(a-s).keys()).map(function(t){return s+Number(t)})}Object(p["a"])(Error);var h=function(t){throw new TypeError("".concat(t," is a required parameter"))},v=function(t){return JSON.parse(JSON.stringify(t))},m=(n("28a5"),function(t){return t*Math.PI/180});function k(t,e){var n=y(t,e);return b(t,e,n)}function b(t,e,n){return t-e<=1||0===e?n.join("").split("").map(Number):b(t-Math.min(e,t-e),e>t-e?t%e:e%t,g(t,e,n))}function g(t,e,n){for(var s=Math.min(e,t-e),a=0;a<s;a++)n[a]=[n[a]+n.pop()[0]];return n}for(var y=function(t,e){return[].concat(Object(d["a"])(f(e).map(function(t){return"1"})),Object(d["a"])(f(t-e).map(function(t){return"0"}))).join("").split("")},_=n("b0b4"),C=(n("0d6d"),n("8cc4")),S=n.n(C),M=f(8).flatMap(function(t){return["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"].flatMap(function(e){return"".concat(e).concat(t)})}),E=Object.freeze(M),x=function(){function t(){Object(o["a"])(this,t)}return Object(_["a"])(t,null,[{key:"defaultSettings",get:function(){return{SCALE:E,note:"G4",oscillator:{type:"sine"},envelope:{attack:.1,decay:.1,sustain:.1,release:.1}}}}]),t}(),q=1,O=16,$=0,w=[],T=q;T<=O;T++)for(var I=$;I<=T;I++)w[T]?w[T][I]=k(T,I):w[T]=[k(T,I)];var j=function(){function t(e){var n=e.n,s=void 0===n?steps:n,a=e.k,i=void 0===a?pulses:a,r=e.offset,c=void 0===r?0:r,u=e.direction,l=void 0===u?"clockwise":u,p=e.stepData,d=void 0===p?h("stepData is a required param"):p,f=e.muted,v=void 0!==f&&f,m=e.activeStep,k=void 0===m?-1:m;Object(o["a"])(this,t),this._n=s,this._k=i,this.activeStep=k,this.offset=c,this.offsetMagnitude=this.offset>=0?1:-1,this.direction=l,this.magnitude="clockwise"===this.direction?1:-1,this.muted=v,this._sequence=w[this._n][this._k],this.stepData=d}return Object(_["a"])(t,[{key:"advance",value:function(){return this.activeStep="clockwise"===this.direction?this.activeStep+1:this.activeStep-1,this.activeStep>=this.n?this.activeStep=0:this.activeStep<0&&(this.activeStep=this.n-1),this.get(this.activeStep)}},{key:"getStepDataAt",value:function(t){return this.stepData[this.getRotatedIndex(t)]}},{key:"setStepDataAt",value:function(t,e){var n=this.getRotatedIndex(t);this.stepData[n]=e}},{key:"getNoteAt",value:function(t){return this.stepData[this.getRotatedIndex(t)].note}},{key:"setNoteAt",value:function(t,e){var n=this.getRotatedIndex(t);this.stepData[n].note=e}},{key:"getEnvelopeAt",value:function(t){var e=this.getRotatedIndex(index);return this.stepData[e].envelope}},{key:"setEnvelopeAt",value:function(t,e){var n=this.getRotatedIndex(t);this.stepData[n].envelope=e}},{key:"get",value:function(t){return this._sequence[this.getRotatedIndex(t)]}},{key:"getRotatedIndex",value:function(t){this._n,this._k;var e=this.offset,n=e<0?(this._n-Math.abs(e)+t)%this._n:(e+t)%this._n;return n}},{key:"rotate",value:function(t){this.offset=(t+this.offset)%this.n,console.log("rotation: ",this._sequence,this.stepData)}},{key:"n",get:function(){return this._n},set:function(t){this._n=Math.max(t,1),this._k=Math.min(this._k,this._n),this._sequence=w[this._n][this._k],this.rotate(0)}},{key:"k",get:function(){return this._k},set:function(t){this._k=t,this._sequence=w[this._n][this._k]}}]),t}(),D=function(){},N=function(){function t(e){var n=e.bpm,s=void 0===n?120:n,a=e.onStart,i=void 0===a?D:a,r=e.onPause,c=void 0===r?D:r,u=e.onStop,l=void 0===u?D:u;Object(o["a"])(this,t),this.transport=S.a.Transport,this.transport.bpm.value=s,this.transport.on("start",i),this.transport.on("pause",c),this.transport.on("stop",l)}return Object(_["a"])(t,[{key:"start",value:function(){this.transport.start("+0.1")}},{key:"pause",value:function(){this.transport.pause()}},{key:"stop",value:function(){this.transport.stop()}},{key:"tempo",get:function(){return this.transport.bpm.value},set:function(t){return this.transport.bpm.value=t}},{key:"state",get:function(){return this.transport.state}}]),t}(),A=8,P=4,R={"+1":function(t,e){return e+1>t?0:e+1},"-1":function(t,e){return e<=0?t:e-1},random:function(t,e){return Math.floor(Math.random()*t)}},B=function(){function t(e){var n=e.tracks,s=void 0===n?h("tracks"):n,a=e.activeChannel,i=void 0===a?h("activeChannel"):a;return Object(o["a"])(this,t),this.sequencer=null,this.activeChannel=i,this.tracks=s,this}return Object(_["a"])(t,[{key:"init",value:function(){var t=this,e=f(t.tracks.length).map(function(t){return new S.a.Synth(x.defaultSettings).toMaster()});return t.sequencer=new S.a.Sequence(function(n,s){for(var a=0;a<t.tracks.length;a++){var i=t.tracks[a].sequence,r=i.advance();!i.muted&&r&&(e[a].envelope.attack=i.stepData[i.activeStep].envelope.attack,e[a].envelope.decay=i.stepData[i.activeStep].envelope.decay,e[a].envelope.sustain=i.stepData[i.activeStep].envelope.sustain,e[a].envelope.release=i.stepData[i.activeStep].envelope.release,e[a].triggerAttackRelease(i.stepData[i.activeStep].note,"8n"))}S.a.Draw.schedule(function(){t.tracks[t.activeChannel].sequence},n)},f(A),"8n").start("+0.1"),this}},{key:"updateStep",value:function(t,e,n){this.tracks[e].sequence.stepData[n]=t}},{key:"updateSequence",value:function(t,e){this.tracks[t].sequence=e}}]),t}(),K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",[n("span",[t._v("Pulse Mode: ")]),n("select",{on:{change:function(e){return t.$emit("pulse-mode-updated",e.target.value)}}},t._l(t.pulseModes,function(e,s){return n("option",{domProps:{selected:t.pulseMode===e}},[t._v(t._s(s))])}),0)])},L=[],z={name:"PulseMode",components:{},props:{pulseMode:String,pulseModes:Object},data:function(){return{}},computed:{},methods:{}},J=z,G=n("2877"),F=Object(G["a"])(J,K,L,!1,null,"216b4478",null),U=F.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",[t._v("Rotation: "+t._s(-1*t.stepsRotated))]),n("button",{staticClass:"fa fa-caret-left decrement",class:{active:-1*t.stepsRotated<0},on:{click:function(e){return t.updateRotation(1)}}}),n("button",{staticClass:"fa fa-caret-right",class:{active:-1*t.stepsRotated>0},on:{click:function(e){return t.updateRotation(-1)}}})])},Q=[],V={name:"Rotation",props:{stepsRotated:Number,rotationMagnitude:Number},methods:{updateRotation:function(t){this.$emit("rotation-updated",t)}}},W=V,X=(n("83cd"),Object(G["a"])(W,H,Q,!1,null,"d55f747c",null)),Y=X.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",[t._v("Step Count: "+t._s(t.stepCount)+" ")]),n("button",{staticClass:"decrement",on:{click:function(e){return t.updateStepCount(-1)}}},[t._v("-")]),n("button",{staticClass:"increment",on:{click:function(e){return t.updateStepCount(1)}}},[t._v("+")])])},tt=[],et={name:"StepCount",props:{stepCount:Number},methods:{updateStepCount:function(t){this.$emit("step-count-updated",this.stepCount+t)}}},nt=et,st=(n("efcb"),Object(G["a"])(nt,Z,tt,!1,null,"93deea7e",null)),at=st.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",[t._v("Track Direction: ")]),n("button",{staticClass:"fas fa-caret-left",class:{active:"counter-clockwise"===t.direction},on:{click:function(e){return t.$emit("direction-updated","counter-clockwise")}}}),n("button",{staticClass:"fas fa-caret-right",class:{active:"clockwise"===t.direction},on:{click:function(e){return t.$emit("direction-updated","clockwise")}}})])},rt=[],ot={name:"Direction",props:{direction:{type:String,required:!0,validator:function(t){return["clockwise","counter-clockwise"].includes(t)}}}},ct=ot,ut=(n("578b"),Object(G["a"])(ct,it,rt,!1,null,"48bfce5e",null)),lt=ut.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"sequencer",attrs:{width:"100%",height:"100%"}},[n("circle",{staticClass:"center",attrs:{tabindex:"1",cx:"200",cy:"200",r:"20"},on:{click:t.updatePulseCount,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updatePulseCount(e)}}}),t._l(t.tracks,function(e,s){return n("g",{directives:[{name:"show",rawName:"v-show",value:s===t.activeChannel,expression:"trackIndex === activeChannel"}],key:s},t._l(t.circles,function(s,a){return n("circle",{key:a,class:{editing:t.isEditable(a),"active-step":a===e.sequence.activeStep,pulse:s.isPulse,muted:e.sequence.muted},attrs:{tabindex:a+2,id:"step-"+a,cx:s.cx,cy:s.cy,r:"20"},on:{click:[function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.setEditable(a)},function(e){return e.shiftKey?e.ctrlKey||e.altKey||e.metaKey?null:t.setEditable(a,!0):null}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setEditable(a)}}})}),0)})],2)},dt=[],ft={name:"Sequencer",components:{},props:{stepsInEditMode:{type:Array,required:!0},tracks:{type:Array},pulseMode:{type:String},activeChannel:Number},data:function(){return{}},created:function(){this.sequencer=new B({activeChannel:this.activeChannel,audioContext:new(window.AudioContext||AudioContext),tracks:this.tracks}).init()},methods:{isEditable:function(t){var e=Boolean(this.tracks[this.activeChannel].sequence.get(t));return e&&this.stepsInEditMode.includes(t)},setEditable:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$emit("sequencer-step-edit-index-update",t,e)},updatePulseCount:function(){this.$emit("pulse-count-updated",{pulseMode:this.pulseMode,activeChannel:this.activeChannel})}},computed:{circles:function(){var t=160,e=90,n={x:200,y:200},s=this.tracks[this.activeChannel].sequence,a=360/s.n;return f(s.n).map(function(t){return a*t}).map(function(a,i){return{isPulse:s.get(i),cx:t*Math.cos(m(a-e))+n.x,cy:t*Math.sin(m(a-e))+n.y}})}},watch:{}},ht=ft,vt=(n("4345"),Object(G["a"])(ht,pt,dt,!1,null,"353f42f3",null)),mt=vt.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sequencer-controls"},[t._t("default")],2)},bt=[],gt={name:"SequencerControls",props:{},data:function(){return{currentPulseMode:"+1",pulseModes:["+1","-1","random"]}},methods:{updatePulseMode:function(t){this.$emit("sequencer-controls-pulse-mode-updated",t)},updateStepCount:function(t){this.$emit("sequencer-controls-update-step-count",t)},incrementRotation:function(){this.$emit("sequencer-controls-rotated",1)},decrementRotation:function(){this.$emit("sequencer-controls-rotated",-1)},reverseDirection:function(t){t!==this.direction&&this.$emit("sequencer-controls-direction-changed",t)}}},yt=gt,_t=(n("95bb"),Object(G["a"])(yt,kt,bt,!1,null,"91222bea",null)),Ct=_t.exports,St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"source-editor",class:{enabled:t.enabled}},[n("div",{staticClass:"source-editor__sound-source-selector"}),n("div",{directives:[{name:"show",rawName:"v-show",value:"synthesizer"===t.soundSource,expression:"soundSource === 'synthesizer'"}],staticClass:"source-editor__synth-editor"},[n("div",{staticClass:"params"},t._l(t.source.envelope,function(e,s){return n("div",{staticClass:"param-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.source.envelope[s],expression:"source.envelope[paramName]",modifiers:{number:!0}}],staticClass:"param",attrs:{disabled:!t.enabled,type:"range",min:"0.01",max:"1.0",step:"0.01"},domProps:{value:t.source.envelope[s]},on:{input:function(e){return t.updateSourceEnvelope(t.source.envelope)},__r:function(e){t.$set(t.source.envelope,s,t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),n("label",{staticClass:"param-label"},[t._v(t._s(s))]),n("label",{staticClass:"param-label"},[t._v(t._s(e))])])}),0),n("ul",{staticClass:"notes"},[t._l(t.source.SCALE.slice(0,12),function(e){return n("li",{staticClass:"note-name"},[t._v(t._s(t.getNoteName(e)))])}),t._l(t.notesByOctave,function(e,s){var a;return n("li",{staticClass:"note",class:(a={sharp:e.includes("#"),selected:t.source.note===e},a["octave-"+(parseInt(e.slice(-1)[0])+1)]=!0,a),attrs:{title:e},on:{click:function(n){return t.assignNote(e)}}})})],2)])])},Mt=[],Et=(n("a481"),{name:"SourceEditor",props:{enabled:{type:Boolean},source:{type:Object,default:function(){return x.defaultSettings}}},data:function(){return{soundSource:"synthesizer",soundSources:["synthesizer","audio"]}},methods:{getNoteName:function(t){return t.replace(/[0-9]/,"")},assignNote:function(t){this.$emit("source-editor-note-assign",t)},updateSourceEnvelope:function(t){this.$emit("source-editor-envelope-change",t)}},computed:{notesByOctave:function(){var t=this.source.SCALE;return Object(d["a"])(Array(t.length/12).keys()).reduce(function(e,n,s){var a=12*n,i=a+12;return e[s]=t.slice(a,i),e},[]).reverse().flat()}}}),xt=Et,qt=(n("d691"),Object(G["a"])(xt,St,Mt,!1,null,"6b37f564",null)),Ot=qt.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"track-selector"},[t._t("default")],2)},wt=[],Tt={name:"TrackSelector",props:{mutedTrackIndex:{type:Number},trackCount:{type:Number},trackIndex:{type:Number}},data:function(){return{index:this.trackIndex}},methods:{selectOrMuteTrack:function(t){t===this.index?this.$emit("track-selector-track-muted",this.index):(this.index=t,this.$emit("track-selector-update",this.index))},isActiveTrack:function(t){return t===this.index},isMuted:function(t){return t===this.mutedTrackIndex}}},It=Tt,jt=(n("c61e"),Object(G["a"])(It,$t,wt,!1,null,"472117e6",null)),Dt=jt.exports,Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"track",class:{muted:t.muted,active:t.active},on:{click:t.activateOrMute}},[t._t("default")],2)},At=[],Pt={name:"TrackButton",components:{},props:{trackIndex:{type:Number,required:!0},active:{type:Boolean,default:!1},muted:{type:Boolean,default:!1}},data:function(){return{}},computed:{},methods:{activateOrMute:function(){this.active?this.muted?this.$emit("track-unmuted"):this.$emit("track-muted"):this.$emit("track-active-channel-updated",this.trackIndex)}}},Rt=Pt,Bt=(n("2f4d"),Object(G["a"])(Rt,Nt,At,!1,null,"1fc37dda",null)),Kt=Bt.exports,Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"transport"},[n("div",{staticClass:"playhead-controls"},[n("button",{staticClass:"start-button fas fa-play",class:{engaged:"started"===t.state},on:{click:t.start}}),n("button",{staticClass:"stop-button fas fa-stop",class:{engaged:"stopped"===t.state},on:{click:t.stop}}),n("button",{staticClass:"pause-button fas fa-pause",class:{engaged:"paused"===t.state},on:{click:t.pause}})]),n("Tempo",{attrs:{tempo:t.tempo},on:{"tempo-change":t.updateTempo}})],1)},zt=[],Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tempo-control"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tempo$,expression:"tempo$",modifiers:{number:!0}}],staticClass:"tempo",attrs:{type:"number",min:"1",max:"300"},domProps:{value:t.tempo$},on:{change:t.onTempoChange,input:function(e){e.target.composing||(t.tempo$=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])},Gt=[],Ft={name:"TempoControl",props:{tempo:{type:Number}},data:function(){return{tempo$:this.tempo}},methods:{onTempoChange:function(){this.$emit("tempo-change",this.tempo$)}}},Ut=Ft,Ht=(n("a31f"),Object(G["a"])(Ut,Jt,Gt,!1,null,"d30cc036",null)),Qt=Ht.exports,Vt={name:"Transport",components:{Tempo:Qt},props:{tempo:{type:Number}},data:function(){return{state:null}},created:function(){var t=this;function e(){t.state=this.state}this.transport=new N({bpm:this.tempo,onStart:e,onStop:e,onPause:e}),this.state=this.transport.transport.state},methods:{updateTempo:function(t){this.$emit("transport-tempo-updated",t)},start:function(){this.transport.start(),this.$emit("transport-started")},pause:function(){this.transport.pause(),this.$emit("transport-paused")},stop:function(){this.transport.stop(),this.$emit("transport-stopped")}},watch:{tempo:function(t){this.transport.tempo=t}}},Wt=Vt,Xt=(n("ef44"),Object(G["a"])(Wt,Lt,zt,!1,null,"0aa8e103",null)),Yt=Xt.exports,Zt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},te=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[n("h1",[t._v("ER-1")])])}],ee={name:"Logo"},ne=ee,se=(n("74ba"),Object(G["a"])(ne,Zt,te,!1,null,"6bf1fd87",null)),ae=se.exports,ie={name:"app",components:{Direction:lt,Logo:ae,PulseMode:U,Rotation:Y,Sequencer:mt,SequencerControls:Ct,SourceEditor:Ot,StepCount:at,TrackButton:Kt,TrackSelector:Dt,Transport:Yt},data:function(){return{tempo:120,trackCount:4,activeChannel:0,tracks:null,stepsInEditMode:[],pulseMode:Object.keys(R)[0],pulseModes:R}},created:function(){this.tracks=this.initTracks(P,A,0)},computed:{currentTrack:function(){return this.tracks[this.activeChannel]},mutedTrackIndex:function(){return this.tracks.reduce(function(t,e,n){return null!=t?t:e.sequence.muted?n:null},null)},sourceEditorEnabled:function(){var t=this;return this.stepsInEditMode.length>=0&&this.stepsInEditMode.some(function(e){return t.currentTrack.sequence.get(e)})},activeStepData:function(){if(this.stepsInEditMode.length>=0){var t=this.stepsInEditMode[this.stepsInEditMode.length-1];return this.currentTrack.sequence.getStepDataAt(t)}}},methods:{initTracks:function(t,e,n){return f(t).map(function(t,s){return{pulseMode:Object.keys(R)[0],sequence:new j({stepData:f(e).map(function(t){return x.defaultSettings}),activeStep:-1,n:e,k:n,direction:"clockwise",offset:0,muted:!1})}})},updateTrackRotation:function(t){this.tracks[this.activeChannel].sequence.rotate(t)},updateTrackDirection:function(t){t!==this.tracks[this.activeChannel].sequence.direction&&(this.tracks[this.activeChannel].sequence.direction=t)},updateActiveChannel:function(t){this.activeChannel=t},updatePulseMode:function(t){this.pulseMode=t},resetActiveSteps:function(){this.tracks.forEach(function(t){t.sequence.activeStep=-1})},updatePulseCount:function(t){t.pulseMode;var e=t.activeChannel,n=this.tracks[e].sequence,s=n.n,a=n.k,i=R[this.pulseMode](s,a);this.tracks[e].sequence.k=i,this.stepsInEditMode.length=0},updateStepCount:function(t){var e=this.tracks[this.activeChannel].sequence;t>A||(e.n=t)},updateStepEditIndexes:function(t,e){var n=Boolean(this.currentTrack.sequence.get(t));n&&(e?this.stepsInEditMode.includes(t)?this.stepsInEditMode=[]:this.stepsInEditMode.push(t):this.stepsInEditMode.length>1?this.stepsInEditMode=[t]:this.stepsInEditMode.includes(t)?this.stepsInEditMode=[]:this.stepsInEditMode=[t])},updateTempo:function(t){this.tempo=t},updateEnvelope:function(t){for(var e=0;e<this.stepsInEditMode.length;e++)this.tracks[this.activeChannel].sequence.setEnvelopeAt(this.stepsInEditMode[e],t)},updateNote:function(t){for(var e=0;e<this.stepsInEditMode.length;e++)this.tracks[this.activeChannel].sequence.setNoteAt(this.stepsInEditMode[e],t)},updateStepData:function(t){var e=t.param,n=t.value,s=this.activeChannel,a=this.tracks,i=this.stepsInEditMode,o=i.length>1,c=i[i.length-1],u=a[s].sequence.stepData[c];if(u[e]=n,o)for(var l=0;l<i.length-1;l++)a[s].sequence.setStepDataAt(i[l],v(u));else{var p=Object(r["a"])(i,1),d=p[0];a[s].sequence.setStepDataAt(d,v(u))}}}},re=ie,oe=(n("5c0b"),Object(G["a"])(re,a,i,!1,null,null,null)),ce=oe.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(ce)}}).$mount("#app")},"578b":function(t,e,n){"use strict";var s=n("f061"),a=n.n(s);a.a},"5c0b":function(t,e,n){"use strict";var s=n("5e27"),a=n.n(s);a.a},"5e27":function(t,e,n){},"665a":function(t,e,n){},"722b":function(t,e,n){},"74ba":function(t,e,n){"use strict";var s=n("a5d5"),a=n.n(s);a.a},"83cd":function(t,e,n){"use strict";var s=n("861b"),a=n.n(s);a.a},"861b":function(t,e,n){},"95bb":function(t,e,n){"use strict";var s=n("cf19"),a=n.n(s);a.a},9911:function(t,e,n){},"9f52":function(t,e,n){},a31f:function(t,e,n){"use strict";var s=n("e0fb"),a=n.n(s);a.a},a4d9:function(t,e,n){},a5d5:function(t,e,n){},acc9:function(t,e,n){},c61e:function(t,e,n){"use strict";var s=n("9911"),a=n.n(s);a.a},cf19:function(t,e,n){},d691:function(t,e,n){"use strict";var s=n("665a"),a=n.n(s);a.a},e0fb:function(t,e,n){},ef44:function(t,e,n){"use strict";var s=n("9f52"),a=n.n(s);a.a},efcb:function(t,e,n){"use strict";var s=n("722b"),a=n.n(s);a.a},f061:function(t,e,n){}});
//# sourceMappingURL=app.09298e22.js.map